Here's a polished and structured version of **07.3. Server-Based AAA Characteristics and Protocols**, ideal for study, documentation, or training use:

---

## üîí 07.3. Server-Based AAA Characteristics and Protocols

**Server-based AAA (Authentication, Authorization, and Accounting)** provides centralized security management by using external servers like **RADIUS** and **TACACS+** to handle user access, privileges, and activity logging across all network devices.

---

### üåü 1. Why Use Server-Based AAA?

- **Centralized Authentication**: User credentials managed from a single server.
- **Granular Authorization**: Assigns access based on user roles.
- **Comprehensive Accounting**: Tracks logins, command executions, and session data.
- **Scalability**: Supports large, multi-device networks.
- **Resilience**: Enables backup authentication if the primary server fails.

---

### üîë 2. Key Server-Based AAA Protocols: RADIUS vs. TACACS+

| **Feature**         | **RADIUS**                                  | **TACACS+**                                    |
|----------------------|---------------------------------------------|------------------------------------------------|
| **Authentication**   | Combines authentication and authorization  | Separates authentication and authorization     |
| **Encryption**       | Encrypts passwords only                    | Encrypts the entire communication              |
| **Transport**        | UDP (1812/1813)                            | TCP (Port 49)                                  |
| **Vendor Support**   | Open standard (RFC 2865)                   | Cisco proprietary                              |
| **Best For**         | Remote access (802.1X, VPNs, Wi-Fi)        | Network device administration (CLI)            |

‚úÖ **Recommendation**:  
- Use **RADIUS** for user access (VPN, wireless).  
- Use **TACACS+** for device administration (routers, switches, firewalls).

---

### üõ†Ô∏è 3. How Server-Based AAA Works

#### üîπ Step 1: Authentication
- User attempts to log in (e.g., SSH or console).
- Device forwards credentials to the AAA server.
- Server approves or denies access based on credentials.

#### üîπ Step 2: Authorization
- After authentication, the server checks what the user is allowed to do.
- RBAC (Role-Based Access Control) defines command and service access.

#### üîπ Step 3: Accounting
- Server logs:
  - Login/logout timestamps
  - Executed commands
  - Config changes

---

### üì° 4. Server-Based AAA Configuration Overview

You need to configure:
1. **The AAA Client** ‚Äì Cisco router or switch
2. **The AAA Server** ‚Äì RADIUS or TACACS+

---

### üîß 5. Configuration Steps

#### üìå 5.1. Enable AAA
```shell
aaa new-model
```

#### üìå 5.2. Configure RADIUS Authentication
```shell
radius-server host 192.168.1.100 key StrongRadiusKey123
aaa authentication login default group radius local
```
- Tries RADIUS first; falls back to local authentication.

#### üìå 5.3. Configure TACACS+ Authentication
```shell
tacacs-server host 192.168.1.200 key StrongTacacsKey123
aaa authentication login default group tacacs+ local
```

#### üìå 5.4. Configure Authorization
```shell
aaa authorization exec default group tacacs+ local
aaa authorization commands 15 default group tacacs+ local
```
- Users must be authorized to access EXEC mode and run privileged commands.

#### üìå 5.5. Configure Accounting
```shell
aaa accounting exec default start-stop group tacacs+
aaa accounting commands 15 default start-stop group tacacs+
```
- Logs session activity and command executions.

---

### üîç 6. Verification and Testing

| **Check**                        | **Command**                          |
|----------------------------------|--------------------------------------|
| AAA Configuration                | `show running-config | include aaa` |
| RADIUS/TACACS+ Server Stats      | `show radius-server statistics` / `show tacacs-server host` |
| Authentication Logs              | `debug aaa authentication`           |
| Active Sessions                  | `show aaa sessions`                  |

---

### ‚úÖ 7. Summary of Key Commands

| **Task**                | **Command Example**                                 |
|-------------------------|------------------------------------------------------|
| Enable AAA              | `aaa new-model`                                      |
| RADIUS Server           | `radius-server host <IP> key <key>`                 |
| Enable RADIUS Auth      | `aaa authentication login default group radius local` |
| TACACS+ Server          | `tacacs-server host <IP> key <key>`                 |
| Enable TACACS+ Auth     | `aaa authentication login default group tacacs+ local` |
| Enable Authorization    | `aaa authorization exec default group tacacs+ local` |
| Enable Accounting       | `aaa accounting exec default start-stop group tacacs+` |
| View Sessions           | `show aaa sessions`                                  |

---

### üîê 8. Best Practices

- **Use Encryption**: TACACS+ encrypts everything; use RADIUS over TLS when possible.
- **Apply RBAC**: Limit user commands and modes based on roles.
- **Audit Logs Regularly**: Monitor accounting logs for anomalies.
- **Redundancy**: Configure multiple AAA servers for failover.
- **Secure AAA Server Access**: Use ACLs to restrict communication to trusted IPs.

---

### ‚öîÔ∏è 9. Troubleshooting Tips

| **Issue**               | **Possible Cause**                      | **Solution**                                    |
|--------------------------|-----------------------------------------|-------------------------------------------------|
| Login Failure            | Server unreachable or wrong key         | Check IP address, shared key, and ACLs          |
| Authorization Denied     | User lacks privilege                    | Adjust role/permissions on AAA server           |
| No Accounting Logs       | Accounting not properly configured      | Ensure `aaa accounting` is active and verified  |
| Backup Not Working       | Fallback not set                        | Add local method to the `aaa authentication` list |

---

### üåü 10. Benefits of Server-Based AAA

- **Centralized Management**: Administer users and permissions from one place.
- **Granular Access Control**: Fine-tuned access with role-based restrictions.
- **Improved Security**: Encrypts sessions and controls administrative access.
- **Comprehensive Logging**: Audits command usage and login activity.
- **Highly Scalable**: Supports large environments with thousands of devices/users.

---

Let me know if you‚Äôd like this formatted into a printable PDF or interactive flashcards ‚Äî or added to a combined **AAA study pack**!