Here‚Äôs a refined and well-structured version of **07.4. Configure Server-Based Authentication**, ideal for study, documentation, or lab reference:

---

## üîí 07.4. Configure Server-Based Authentication

**Server-based authentication** enables network devices (routers, switches, firewalls) to delegate user authentication to external AAA servers like **RADIUS** or **TACACS+**. This centralizes access control, improves security, and scales across large networks.

---

### üåü 1. Why Use Server-Based Authentication?

- **Centralized Access Control**: Manage all users from a single AAA server.
- **Enhanced Security**: Prevent unauthorized access via encrypted credentials.
- **Scalability**: Supports hundreds or thousands of devices and users.
- **Logging & Auditing**: Track login/logout, command history, and session details.
- **Redundancy**: Configure backup servers for high availability.

---

### üîë 2. Choosing Between RADIUS and TACACS+

| **Feature**              | **RADIUS**                                  | **TACACS+**                                   |
|---------------------------|---------------------------------------------|-----------------------------------------------|
| **Authentication Model** | Combines authentication & authorization     | Separates authentication & authorization      |
| **Encryption**           | Encrypts passwords only                    | Encrypts the entire session                   |
| **Transport Protocol**   | UDP (1812/1813)                             | TCP (Port 49)                                 |
| **Vendor Support**       | Open standard, used in VPNs and 802.1X      | Cisco proprietary, used for CLI management    |
| **Best Use Case**        | User access (VPNs, wireless, 802.1X)        | Device management (CLI, router/switch login)  |

‚úÖ **Recommendation**:
- **Use RADIUS** for **user authentication** (VPN, Wi-Fi, 802.1X).
- **Use TACACS+** for **device administration** (routers, switches, CLI).

---

### üõ†Ô∏è 3. Configuration Steps for Server-Based Authentication

#### üìå 3.1. Enable AAA on the Cisco Device
```shell
aaa new-model
```
- Enables AAA services.

---

#### üìå 3.2. Configure RADIUS Authentication (VPN, Wireless, 802.1X)
```shell
radius-server host 192.168.1.100 key StrongRadiusKey123
aaa authentication login default group radius local
```
- Falls back to local authentication if the RADIUS server is unavailable.

---

#### üìå 3.3. Configure TACACS+ Authentication (CLI Access)
```shell
tacacs-server host 192.168.1.200 key StrongTacacsKey123
aaa authentication login default group tacacs+ local
```
- Enables centralized login management for administrators.

---

#### üìå 3.4. Configure Authorization (Command Privileges)
```shell
aaa authorization exec default group tacacs+ local
aaa authorization commands 15 default group tacacs+ local
```
- Restricts users based on roles or privilege levels.

---

#### üìå 3.5. Configure Accounting (User Activity Tracking)
```shell
aaa accounting exec default start-stop group tacacs+
aaa accounting commands 15 default start-stop group tacacs+
```
- Logs session start/stop times and all privileged commands.

---

#### üìå 3.6. Configure Authentication for Console and SSH Access

**Console Access:**
```shell
aaa authentication login CONSOLE_AUTH group tacacs+ local
line console 0
 login authentication CONSOLE_AUTH
```

**VTY/SSH Access:**
```shell
aaa authentication login VTY_AUTH group tacacs+ local
line vty 0 4
 login authentication VTY_AUTH
```

---

### üîç 4. Verification and Testing

| **Action**                      | **Command**                            |
|----------------------------------|----------------------------------------|
| View AAA Configuration          | `show running-config | include aaa`    |
| Check RADIUS Server Stats       | `show radius-server statistics`        |
| Check TACACS+ Server Status     | `show tacacs-server host`              |
| Monitor Authentication Events   | `debug aaa authentication`             |
| Display Active Sessions         | `show aaa sessions`                    |

---

### ‚úÖ 5. Summary of Key Commands

| **Task**                    | **Command Example**                                  |
|-----------------------------|-------------------------------------------------------|
| Enable AAA                  | `aaa new-model`                                       |
| Configure RADIUS Server     | `radius-server host <IP> key <key>`                  |
| RADIUS Authentication       | `aaa authentication login default group radius local`|
| Configure TACACS+ Server    | `tacacs-server host <IP> key <key>`                  |
| TACACS+ Authentication      | `aaa authentication login default group tacacs+ local`|
| Enable Authorization        | `aaa authorization exec default group tacacs+ local` |
| Enable Accounting           | `aaa accounting exec default start-stop group tacacs+`|
| View Active Sessions        | `show aaa sessions`                                   |

---

### üîê 6. Best Practices for Server-Based Authentication

- **Use Strong Encryption**:
  - TACACS+ encrypts everything.
  - Use RADIUS with TLS for secure transmission.
- **Implement RBAC**: Assign privilege levels by user role (Admin, Support, Read-Only).
- **Enable Logging**: Regularly review logs for anomalies.
- **Configure Redundant Servers**: Ensure authentication continues during outages.
- **Restrict Access via ACLs**: Only allow trusted devices to communicate with AAA servers.

---

### ‚öîÔ∏è 7. Troubleshooting Tips

| **Issue**             | **Possible Cause**                         | **Solution**                                 |
|------------------------|--------------------------------------------|----------------------------------------------|
| Login Failure          | Wrong shared key or unreachable server     | Check IP, shared key, and ACL configuration  |
| Authorization Denied   | User lacks required privileges             | Assign proper role/authorization profile     |
| No Accounting Logs     | Accounting not configured or disabled      | Ensure `aaa accounting` is enabled           |
| Fallback Not Working   | Local method not configured                | Add `local` to the authentication list       |

---

### üåü 8. Benefits of Server-Based Authentication

- **Centralized User Management**: Manage all user access in one place.
- **Granular Access Control**: Customize permissions by role.
- **Strong Security**: Encrypted authentication, reduced attack surface.
- **Comprehensive Auditing**: Log user activity for compliance and analysis.
- **Scalability**: Easily supports large-scale environments.

---

Let me know if you'd like this as part of a combined AAA module PDF, Markdown, or flashcard set ‚Äî or if you need a hands-on GNS3 lab based on this configuration!